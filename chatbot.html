<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ask AI Chatbot ‚Ä¢ Chauhan Ji AI</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #070915;
      --card: rgba(255,255,255,0.06);
      --fg: #e7ecff;
      --muted: #a9b1d6;
      --brand: #6c8bfd; /* primary */
      --brand-2: #8a5bff; /* accent */
      --ok: #39d98a; 
      --warn: #f6c445;
      --danger: #ff6b6b;
      --ring: rgba(108,139,253,.5);
      --glass: rgba(255,255,255,.08);
      --shadow: 0 10px 40px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; 
      font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
      color:var(--fg); 
      background: radial-gradient(1200px 800px at 10% -10%, rgba(124, 86, 255, .35), transparent 60%),
                  radial-gradient(900px 700px at 110% 10%, rgba(108, 139, 253, .35), transparent 55%),
                  linear-gradient(180deg, #0a0e23 0%, var(--bg) 45%, #05060f 100%);
      line-height:1.6;
      overflow-x:hidden;
    }
    .container{width:min(1100px, 92%); margin-inline:auto}
  <style>
    .chatbot-container {
      max-width: 800px;
      margin: 2rem auto;
      padding: 2rem;
      background: var(--glass);
      border: 1px solid rgba(255,255,255,.1);
      border-radius: 20px;
      box-shadow: var(--shadow);
      height: 70vh;
      display: flex;
      flex-direction: column;
    }
    
    .chat-header {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 1rem;
      border-bottom: 1px solid rgba(255,255,255,.1);
      margin-bottom: 1rem;
    }
    
    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 1rem;
      margin-bottom: 1rem;
      background: rgba(255,255,255,.02);
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.05);
    }
    
    .message {
      margin-bottom: 1rem;
      padding: 12px 16px;
      border-radius: 12px;
      max-width: 80%;
      animation: messageSlide 0.3s ease;
    }
    
    .message.user {
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      margin-left: auto;
      color: white;
    }
    
    .message.ai {
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.1);
      color: var(--fg);
    }
    
    .chat-input-container {
      display: flex;
      gap: 10px;
      align-items: center;
    }
    
    .chat-input {
      flex: 1;
      padding: 12px 16px;
      border: 1px solid rgba(255,255,255,.2);
      border-radius: 25px;
      background: rgba(255,255,255,.05);
      color: var(--fg);
      font-size: 14px;
      outline: none;
      transition: all 0.3s ease;
    }
    
    .chat-input:focus {
      border-color: var(--brand);
      box-shadow: 0 0 0 3px rgba(108,139,253,.2);
    }
    
    .send-btn {
      padding: 12px 20px;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      border: none;
      border-radius: 25px;
      color: white;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .send-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(108,139,253,.4);
    }
    
    .send-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }
    
    .typing-indicator {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 16px;
      background: rgba(255,255,255,.08);
      border-radius: 12px;
      margin-bottom: 1rem;
      max-width: 80px;
    }
    
    .typing-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--brand);
      animation: typingDots 1.4s infinite ease-in-out;
    }
    
    .typing-dot:nth-child(2) { animation-delay: 0.2s; }
    .typing-dot:nth-child(3) { animation-delay: 0.4s; }
    
    .back-btn {
      position: fixed;
      top: 20px;
      left: 20px;
      background: rgba(255,255,255,.1);
      border: 1px solid rgba(255,255,255,.2);
      padding: 10px 16px;
      border-radius: 25px;
      color: var(--fg);
      text-decoration: none;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }
    
    .back-btn:hover {
      background: rgba(255,255,255,.2);
      transform: translateY(-2px);
    }
    
    @keyframes messageSlide {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes typingDots {
      0%, 60%, 100% { transform: translateY(0); }
      30% { transform: translateY(-10px); }
    }
    
    @media (max-width: 700px) {
      .chatbot-container {
        margin: 1rem;
        padding: 1rem;
        height: calc(100vh - 2rem);
      }
      .message { max-width: 90%; }
    }
  </style>
</head>
<body>
  <a href="ai-awareness.html" class="back-btn">‚Üê Back to Main</a>
  
    <div class="container">
    <h1 style="text-align: center; margin: 2rem 0;">Ask Chauhan Ji AI</h1>
    <p style="text-align: center; color: var(--muted); margin-bottom: 2rem;">
      Chat with Chauhan Ji's AI assistant powered by Google Gemini about artificial intelligence, technology, or anything else!
    </p>    <div class="chatbot-container">
      <div class="chat-header">
        <span class="logo">ü§ñ</span>
        <div>
          <h3 style="margin: 0;">Chauhan Ji AI Assistant</h3>
          <small style="color: var(--muted);">Powered by Google Gemini</small>
        </div>
      </div>
      
      <div class="chat-messages" id="chatMessages">
        <!-- Welcome message will be added by JavaScript -->
      </div>
      
      <div class="chat-input-container">
        <input 
          type="text" 
          class="chat-input" 
          id="chatInput" 
          placeholder="Type your question here..." 
          maxlength="1000"
        >
        <button class="send-btn" id="sendBtn">
          <span>Send</span>
          <span>‚Üí</span>
        </button>
      </div>
    </div>
  </div>

  <script>
    const API_KEY = 'AIzaSyCJWSlRcAQWsbJIUkYOI3unXPNQhkIzbSY';
    const API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent';
    
    const chatMessages = document.getElementById('chatMessages');
    const chatInput = document.getElementById('chatInput');
    const sendBtn = document.getElementById('sendBtn');
    
    // Fallback responses if API fails
    const fallbackResponses = {
      greetings: [
        "Hello! I'm Chauhan Ji AI. How can I help you today?",
        "Hi there! What would you like to know about AI or technology?",
        "Welcome! I'm here to answer your questions about artificial intelligence."
      ],
      ai: [
        "Artificial Intelligence is the simulation of human intelligence in machines. It includes machine learning, deep learning, and neural networks.",
        "AI can process data, recognize patterns, make decisions, and learn from experience - much like humans do!",
        "Modern AI systems can understand language, recognize images, play games, and even create art and music."
      ],
      default: [
        "That's an interesting question! While I may not have all the answers right now, I'm here to help you explore topics related to AI and technology.",
        "I appreciate your curiosity! Feel free to ask me about artificial intelligence, machine learning, or any tech-related topics.",
        "Great question! I'm constantly learning and improving. What specific aspect would you like to know more about?"
      ]
    };
    
    function getFallbackResponse(message) {
      const lowerMessage = message.toLowerCase();
      
      if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('hey')) {
        return getRandomResponse('greetings');
      } else if (lowerMessage.includes('ai') || lowerMessage.includes('artificial intelligence') || lowerMessage.includes('machine learning')) {
        return getRandomResponse('ai');
      } else {
        return getRandomResponse('default');
      }
    }
    
    function getRandomResponse(category) {
      const responses = fallbackResponses[category];
      return responses[Math.floor(Math.random() * responses.length)];
    }
    
    function addMessage(content, isUser = false) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${isUser ? 'user' : 'ai'}`;
      messageDiv.innerHTML = isUser ? `<strong>You:</strong> ${content}` : `<strong>Chauhan Ji AI:</strong> ${content}`;
      chatMessages.appendChild(messageDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    
    function showTypingIndicator() {
      const typingDiv = document.createElement('div');
      typingDiv.className = 'typing-indicator';
      typingDiv.id = 'typingIndicator';
      typingDiv.innerHTML = `
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
      `;
      chatMessages.appendChild(typingDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    
    function hideTypingIndicator() {
      const typingIndicator = document.getElementById('typingIndicator');
      if (typingIndicator) {
        typingIndicator.remove();
      }
    }
    
    async function sendMessage() {
      const message = chatInput.value.trim();
      if (!message) return;
      
      // Add user message
      addMessage(message, true);
      chatInput.value = '';
      sendBtn.disabled = true;
      
      // Show typing indicator
      showTypingIndicator();
      
      try {
        // Enhanced prompt for Chauhan Ji AI personality
        const enhancedPrompt = `You are "Chauhan Ji AI", a helpful and knowledgeable AI assistant created by Chauhan Ji. Please respond in a friendly, professional manner. Always sign your responses as "Chauhan Ji AI" and provide helpful, accurate information. User question: ${message}`;
        
        const requestBody = {
          contents: [{
            parts: [{
              text: enhancedPrompt
            }]
          }]
        };
        
        console.log('Making API request to:', `${API_URL}?key=${API_KEY}`);
        console.log('Request body:', JSON.stringify(requestBody, null, 2));
        
        const response = await fetch(`${API_URL}?key=${API_KEY}`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(requestBody)
        });
        
        console.log('Response status:', response.status);
        console.log('Response headers:', response.headers);
        
        hideTypingIndicator();
        
        if (response.ok) {
          const data = await response.json();
          console.log('Response data:', data);
          
          if (data.candidates && data.candidates[0] && data.candidates[0].content && data.candidates[0].content.parts[0]) {
            let aiResponse = data.candidates[0].content.parts[0].text;
            
            // Ensure response has Chauhan Ji AI branding if not already present
            if (!aiResponse.includes('Chauhan Ji AI')) {
              aiResponse = aiResponse + '\n\n- Chauhan Ji AI';
            }
            
            addMessage(aiResponse);
          } else {
            // Use fallback response
            const fallbackResponse = getFallbackResponse(message);
            addMessage(fallbackResponse);
          }
        } else {
          const errorText = await response.text();
          console.error('API Error Response:', errorText);
          throw new Error(`HTTP error! status: ${response.status}, message: ${errorText}`);
        }
        
      } catch (error) {
        hideTypingIndicator();
        console.error('API Error:', error);
        
        // Use intelligent fallback response
        const fallbackResponse = getFallbackResponse(message);
        addMessage(fallbackResponse + ' (Note: Using offline mode due to connectivity issues)');
      }
      
      sendBtn.disabled = false;
    }
    
    sendBtn.addEventListener('click', sendMessage);
    chatInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendMessage();
      }
    });
    
    // Focus input on load
    chatInput.focus();
    
    // Add welcome message after a short delay
    setTimeout(() => {
      addMessage("Hello! I'm Chauhan Ji AI, powered by Google Gemini. I'm here to help you with any questions about AI, technology, or general topics. How can I assist you today?");
    }, 500);
  </script>
</body>
</html>
